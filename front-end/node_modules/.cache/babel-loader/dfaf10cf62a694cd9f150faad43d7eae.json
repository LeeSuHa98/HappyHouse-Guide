{"ast":null,"code":"import _slicedToArray from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Input}from'reactstrap';import axios from'axios';import'./css/community.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ReadCommunity(props){var _useState=useState(props._id),_useState2=_slicedToArray(_useState,2),_id=_useState2[0],set_id=_useState2[1];var _useState3=useState(props),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),writeDate=_useState6[0],setWriteDate=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),content=_useState10[0],setContent=_useState10[1];var handleChangeUserId=function handleChangeUserId(e){e.preventDefault();setUserId(e.target.value);};var handleChangeWriteDate=function handleChangeWriteDate(e){e.preventDefault();setWriteDate(e.target.value);};var handleChangeTitle=function handleChangeTitle(e){e.preventDefault();setTitle(e.target.value);};var handleChangeContent=function handleChangeContent(e){e.preventDefault();setContent(e.target.value);};var readCommunity=function readCommunity(){var form={_id:localStorage.getItem(\"community_id\")};axios.post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/communities/detail',form).then(function(res){console.log(res.data);console.log(res.data.communitys.userId);setUserId(res.data.communitys.userId);setWriteDate(res.data.communitys.writeDate);setTitle(res.data.communitys.title);setContent(res.data.communitys.content);}).catch(function(error){console.log(error);});};var updateCommunity=function updateCommunity(){var form={userId:localStorage.getItem(\"userID\"),_id:localStorage.getItem(\"community_id\"),title:title,content:content};console.log('수정커뮤니티',form);axios.post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/communities/update',form).then(function(res){alert(\"게시글 수정 완료\");window.location.href='/communities';});};useEffect(function(){readCommunity();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"createCommunity\",children:/*#__PURE__*/_jsx(\"div\",{className:\"community-title\",children:/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:\"\\uCEE4\\uBBA4\\uB2C8\\uD2F0 \\uC791\\uC131\"})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"community-block\",children:[/*#__PURE__*/_jsx(\"td\",{id:\"header\",children:/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(Input,{name:\"title\",onChange:handleChangeTitle,value:title})})}),/*#__PURE__*/_jsx(\"div\",{id:\"b\"}),/*#__PURE__*/_jsx(Input,{type:\"textarea\",className:\"input-style\",name:\"content\",id:\"content\",cols:\"50\",rows:\"10\",onChange:handleChangeContent,value:content}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"review-upload\",onClick:updateCommunity,children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{id:\"review-upload\",onClick:function onClick(){window.location.href='/communities';},style:{float:'left'},children:\"\\uCDE8\\uC18C\"})]}),/*#__PURE__*/_jsx(\"br\",{})]})]});}export default ReadCommunity;","map":{"version":3,"sources":["C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/src/source/ReadCommunity.js"],"names":["React","useEffect","useState","Input","axios","ReadCommunity","props","_id","set_id","userId","setUserId","writeDate","setWriteDate","title","setTitle","content","setContent","handleChangeUserId","e","preventDefault","target","value","handleChangeWriteDate","handleChangeTitle","handleChangeContent","readCommunity","form","localStorage","getItem","post","then","res","console","log","data","communitys","catch","error","updateCommunity","alert","window","location","href","float"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OACIC,KADJ,KAEO,YAFP,CAGA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,qBAAP,C,wFAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,eAEJJ,QAAQ,CAACI,KAAK,CAACC,GAAP,CAFJ,wCAEnBA,GAFmB,eAEdC,MAFc,8BAGEN,QAAQ,CAACI,KAAD,CAHV,yCAGnBG,MAHmB,eAGXC,SAHW,8BAIQR,QAAQ,EAJhB,yCAInBS,SAJmB,eAIRC,YAJQ,8BAKAV,QAAQ,EALR,yCAKnBW,KALmB,eAKZC,QALY,8BAMIZ,QAAQ,EANZ,0CAMnBa,OANmB,gBAMVC,UANU,gBAO1B,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAO,CAC9BA,CAAC,CAACC,cAAF,GACAT,SAAS,CAACQ,CAAC,CAACE,MAAF,CAASC,KAAV,CAAT,CACH,CAHD,CAIA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACJ,CAAD,CAAO,CACjCA,CAAC,CAACC,cAAF,GACAP,YAAY,CAACM,CAAC,CAACE,MAAF,CAASC,KAAV,CAAZ,CACH,CAHD,CAIA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACL,CAAD,CAAO,CAC7BA,CAAC,CAACC,cAAF,GACAL,QAAQ,CAACI,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,CACH,CAHD,CAIA,GAAMG,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACN,CAAD,CAAO,CAC/BA,CAAC,CAACC,cAAF,GACAH,UAAU,CAACE,CAAC,CAACE,MAAF,CAASC,KAAV,CAAV,CACH,CAHD,CAKA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAExB,GAAIC,CAAAA,IAAI,CAAG,CACPnB,GAAG,CAAEoB,YAAY,CAACC,OAAb,CAAqB,cAArB,CADE,CAAX,CAGAxB,KAAK,CACAyB,IADL,CACU,sFADV,CACkGH,IADlG,EAEKI,IAFL,CAEU,SAACC,GAAD,CAAS,CAEXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAF,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoB1B,MAAhC,EACAC,SAAS,CAACqB,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoB1B,MAArB,CAAT,CACAG,YAAY,CAACmB,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoBxB,SAArB,CAAZ,CACAG,QAAQ,CAACiB,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoBtB,KAArB,CAAR,CACAG,UAAU,CAACe,GAAG,CAACG,IAAJ,CAASC,UAAT,CAAoBpB,OAArB,CAAV,CACH,CAVL,EAWKqB,KAXL,CAWW,SAAUC,KAAV,CAAiB,CACpBL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACH,CAbL,EAcC,CAnBL,CAoBJ,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAE1B,GAAIZ,CAAAA,IAAI,CAAG,CACPjB,MAAM,CAAEkB,YAAY,CAACC,OAAb,CAAqB,QAArB,CADD,CAEPrB,GAAG,CAAEoB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFE,CAGPf,KAAK,CAAEA,KAHA,CAIPE,OAAO,CAAEA,OAJF,CAAX,CAOAiB,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBP,IAAtB,EAEAtB,KAAK,CACJyB,IADD,CACM,sFADN,CAC8FH,IAD9F,EACoGI,IADpG,CACyG,SAACC,GAAD,CAAS,CAE9GQ,KAAK,CAAC,WAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,cAAtB,CACH,CALD,EAMH,CAjBD,CAmBIzC,SAAS,CAAC,UAAM,CACZwB,aAAa,GAChB,CAFQ,CAEN,EAFM,CAAT,CAGA,mBAEI,aAAK,SAAS,CAAC,IAAf,wBAEN,YAAK,SAAS,CAAC,iBAAf,uBACc,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,EAAE,CAAC,OAAR,mDADJ,EADd,EAFM,cASQ,aAAK,KAAK,CAAC,iBAAX,wBAEI,WAAI,EAAE,CAAC,QAAP,uBACI,iCACI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,CAAEF,iBAA9B,CAAiD,KAAK,CAAEV,KAAxD,EADJ,EADJ,EAFJ,cAOI,YAAK,EAAE,CAAC,GAAR,EAPJ,cAQR,KAAC,KAAD,EACG,IAAI,CAAC,UADR,CAEI,SAAS,CAAC,aAFd,CAGI,IAAI,CAAC,SAHT,CAGmB,EAAE,CAAC,SAHtB,CAII,IAAI,CAAC,IAJT,CAIc,IAAI,CAAC,IAJnB,CAKI,QAAQ,CAAEW,mBALd,CAMoB,KAAK,CAAET,OAN3B,EARQ,cAgBI,aAhBJ,cAiBG,aAAK,SAAS,CAAC,kBAAf,wBACH,eAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAAEuB,eAApC,0BADG,cAED,eAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAAI,kBAAI,CAACE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,cAAtB,CAAqC,CAAhF,CAAkF,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAzF,0BAFC,GAjBH,cAsBI,aAtBJ,GATR,GAFJ,CAsCH,CACD,cAAetC,CAAAA,aAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {\r\n    Input,\r\n} from 'reactstrap';\r\nimport axios from 'axios';\r\nimport './css/community.css'\r\n\r\nfunction ReadCommunity(props) {\r\n\r\n    const [_id, set_id] = useState(props._id);\r\n    const [userId, setUserId] = useState(props);\r\n    const [writeDate, setWriteDate] = useState();\r\n    const [title, setTitle] = useState();\r\n    const [content, setContent] = useState();\r\n    const handleChangeUserId = (e) => {\r\n        e.preventDefault();\r\n        setUserId(e.target.value);\r\n    }\r\n    const handleChangeWriteDate = (e) => {\r\n        e.preventDefault();\r\n        setWriteDate(e.target.value);\r\n    }\r\n    const handleChangeTitle = (e) => {\r\n        e.preventDefault();\r\n        setTitle(e.target.value);\r\n    }\r\n    const handleChangeContent = (e) => {\r\n        e.preventDefault();\r\n        setContent(e.target.value);\r\n    }\r\n\r\n    const readCommunity = () => {\r\n\r\n        var form = {\r\n            _id: localStorage.getItem(\"community_id\")\r\n        };\r\n        axios\r\n            .post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/communities/detail', form)\r\n            .then((res) => {\r\n\r\n                console.log(res.data);\r\n                console.log(res.data.communitys.userId);\r\n                setUserId(res.data.communitys.userId);\r\n                setWriteDate(res.data.communitys.writeDate);\r\n                setTitle(res.data.communitys.title);\r\n                setContent(res.data.communitys.content);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n        }\r\nconst updateCommunity = () => {\r\n\r\n    var form = {\r\n        userId: localStorage.getItem(\"userID\"),\r\n        _id: localStorage.getItem(\"community_id\"),\r\n        title: title,\r\n        content: content,\r\n    };\r\n    \r\n    console.log('수정커뮤니티', form);\r\n    \r\n    axios\r\n    .post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/communities/update', form).then((res) => {\r\n       \r\n        alert(\"게시글 수정 완료\")\r\n        window.location.href ='/communities'\r\n    })\r\n}\r\n\r\n    useEffect(() => {\r\n        readCommunity(); \r\n    }, [])\r\n    return (\r\n       \r\n        <div className=\"dv\">\r\n    \r\n  <div className=\"createCommunity\">\r\n                <div className=\"community-title\">\r\n                    <div id=\"title\">커뮤니티 작성</div>\r\n                </div>\r\n\r\n            </div>\r\n            \r\n                <div class=\"community-block\">\r\n                   \r\n                    <td id=\"header\">\r\n                        <h4>\r\n                            <Input name=\"title\" onChange={handleChangeTitle} value={title}></Input>\r\n                        </h4>\r\n                    </td>                \r\n                    <div id=\"b\"></div>\r\n        <Input\r\n           type=\"textarea\"\r\n            className=\"input-style\"\r\n            name=\"content\" id=\"content\"\r\n            cols=\"50\" rows=\"10\"\r\n            onChange={handleChangeContent}\r\n                            value={content}\r\n           ></Input>\r\n                    <br></br>\r\n                   <div className=\"button-container\">\r\n                <button id=\"review-upload\" onClick={updateCommunity}>수정</button>\r\n                  <button id=\"review-upload\" onClick = {()=>{window.location.href ='/communities'}} style={{float: 'left'}}>취소</button>\r\n                </div> \r\n                    \r\n                    <br></br>\r\n                 </div> \r\n        </div>\r\n\r\n    )\r\n}\r\nexport default ReadCommunity;\r\n"]},"metadata":{},"sourceType":"module"}