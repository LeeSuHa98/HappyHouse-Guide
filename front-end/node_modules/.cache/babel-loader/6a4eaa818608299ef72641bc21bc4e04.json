{"ast":null,"code":"import _slicedToArray from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import'./community.css';import $ from'jquery';import{Modal,ModalHeader}from'reactstrap';import CreateCommunity from'./CreateCommunity';import ReadCommunity from'./ReadCommunity';import Moment from'react-moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Communities=function Communities(props){var _useState=useState(\"default\"),_useState2=_slicedToArray(_useState,2),modalInput=_useState2[0],setModalInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalCreateCommunity=_useState4[0],setModalCreateCommunity=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modalReadCommunity=_useState6[0],setModalReadCommunity=_useState6[1];var toggleCreateCommunity=function toggleCreateCommunity(){return setModalCreateCommunity(!modalCreateCommunity);};var toggleReadCommunity=function toggleReadCommunity(){return setModalReadCommunity(!modalReadCommunity);};var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),activityHistoryList=_useState8[0],setActivityHistoryList=_useState8[1];var communityList=function communityList(community){return/*#__PURE__*/_jsx(\"li\",{className:\"li\",id:community._id,children:/*#__PURE__*/_jsxs(\"div\",{class:\"community-block\",id:\"second\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"id\",children:community._id}),/*#__PURE__*/_jsx(\"td\",{id:\"header\",className:\"readCommunity\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"[\",community.title,\"]\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"table\",{class:\"houseInfo\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:community.userId}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Moment,{format:\"YY.MM.DD\",children:community.writeDate})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"community-content\",children:community.content}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{id:\"review-upload\",className:\"readCommunityDetail\",children:\"\\uC218\\uC815/\\uC0AD\\uC81C\"})}),/*#__PURE__*/_jsx(\"br\",{})]})},community._id);};function readActivityHistory(){axios.get('/happyhouse/communities').then(function(_ref){var data=_ref.data;data=data.communitysList;setActivityHistoryList(data.map(communityList));});}function move(){localStorage.setItem(\"community_id\",modalInput);window.location.href='/communities/detail';}$(function(){$(\".readCommunity\").off(\"click\");$(\".createCommunityButton\").on(\"click\",function(){var Button=$(this);var div=Button.parent();var td=div.children();setModalInput(td.eq(0).text());toggleCreateCommunity();});$(\".readCommunityDetail\").on(\"click\",function(){var Button=$(this);var div=Button.parent().parent();var td=div.children();setModalInput(td.eq(0).text());move();});});useEffect(function(){readActivityHistory();//getlist\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"createCommunity\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"community-title\",children:/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:\"\\uCEE4\\uBBA4\\uB2C8\\uD2F0\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-button-group\",children:[/*#__PURE__*/_jsx(\"select\",{id:\"community-search-option\",children:/*#__PURE__*/_jsx(\"option\",{children:\"\\uCD5C\\uC2E0\\uC21C\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"community-search\",value:\"\"}),/*#__PURE__*/_jsx(\"button\",{id:\"community-upload\",className:\"createCommunityButton\",children:\"UPLOAD\"})]})]}),activityHistoryList,/*#__PURE__*/_jsx(\"div\",{id:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"pagination\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"\\xAB\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"active\",children:\"1\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"2\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"3\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"4\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"5\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"\\xBB\"})]})}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalCreateCommunity,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:toggleCreateCommunity,children:\"\\uAC8C\\uC2DC\\uAE00 \\uC791\\uC131\"}),/*#__PURE__*/_jsx(CreateCommunity,{})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalReadCommunity,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:toggleReadCommunity,children:\"\\uAC8C\\uC2DC\\uAE00 \\uC0C1\\uC138\\uC870\\uD68C\"}),/*#__PURE__*/_jsx(ReadCommunity,{_id:modalInput})]})]});};export default Communities;","map":{"version":3,"sources":["C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/src/source/communities.js"],"names":["React","useState","useEffect","axios","$","Modal","ModalHeader","CreateCommunity","ReadCommunity","Moment","Communities","props","modalInput","setModalInput","modalCreateCommunity","setModalCreateCommunity","modalReadCommunity","setModalReadCommunity","toggleCreateCommunity","toggleReadCommunity","activityHistoryList","setActivityHistoryList","communityList","community","_id","title","userId","writeDate","content","readActivityHistory","get","then","data","communitysList","map","move","localStorage","setItem","window","location","href","off","on","Button","div","parent","td","children","eq","text"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios'\r\nimport './community.css'\r\nimport $ from 'jquery';\r\nimport {Modal, ModalHeader} from 'reactstrap';\r\nimport CreateCommunity from './CreateCommunity'\r\nimport ReadCommunity from './ReadCommunity';\r\nimport Moment from 'react-moment'\r\n\r\nconst Communities = (props) => {\r\n    const [modalInput, setModalInput] = useState(\"default\");\r\n    const [modalCreateCommunity, setModalCreateCommunity] = useState(false);\r\n    const [modalReadCommunity, setModalReadCommunity] = useState(false);\r\n    const toggleCreateCommunity = () => setModalCreateCommunity(\r\n        !modalCreateCommunity\r\n    );\r\n    const toggleReadCommunity = () => setModalReadCommunity(!modalReadCommunity);\r\n\r\n    const [activityHistoryList, setActivityHistoryList] = useState();\r\n\r\n    const communityList = (community) => (\r\n\r\n        <li className=\"li\" key={community._id} id={community._id}>\r\n\r\n            <div class=\"community-block\" id=\"second\">\r\n                <td className=\"id\">{community._id}</td>\r\n                <td id=\"header\" className={\"readCommunity\"}>\r\n                    <h4>[{community.title}]</h4>\r\n                </td>\r\n\r\n                <div>\r\n                    <table class=\"houseInfo\">\r\n                        <tr>\r\n                            <td id=\"a\">작성자</td>\r\n                            <td>{community.userId}</td>\r\n                            <td id=\"a\">작성일</td>\r\n                            <td>\r\n                                <Moment format=\"YY.MM.DD\">{community.writeDate}</Moment>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div class=\"community-content\">\r\n                    {community.content}\r\n                </div>\r\n                <br></br>\r\n                <div className=\"button-container\">\r\n                    <button id=\"review-upload\" className={\"readCommunityDetail\"}>수정/삭제</button>\r\n                </div>\r\n                <br></br>\r\n            </div>\r\n        </li>\r\n    );\r\n\r\n    function readActivityHistory() {\r\n        axios\r\n            .get('/happyhouse/communities')\r\n            .then(({data}) => {\r\n                data = data.communitysList\r\n                setActivityHistoryList(data.map(communityList))\r\n\r\n            })\r\n    }\r\n    function move(){\r\n        localStorage.setItem(\"community_id\",modalInput);\r\n        window.location.href ='/communities/detail'\r\n    }\r\n    $(function () {\r\n        $(\".readCommunity\").off(\"click\")\r\n        $(\".createCommunityButton\").on(\"click\", function () {\r\n\r\n            var Button = $(this);\r\n\r\n            var div = Button.parent();\r\n            var td = div.children();\r\n            setModalInput(td.eq(0).text());\r\n            toggleCreateCommunity();\r\n        })\r\n        $(\".readCommunityDetail\").on(\"click\", function () {\r\n\r\n            var Button = $(this);\r\n            var div = Button.parent().parent();\r\n            var td = div.children();\r\n            setModalInput(td.eq(0).text());\r\n            move();\r\n        })\r\n    })\r\n\r\n    useEffect(() => {\r\n        readActivityHistory() //getlist\r\n    }, []);\r\n    return (\r\n        <div className=\"dv\">\r\n            <div className=\"createCommunity\">\r\n                <div className=\"community-title\">\r\n                    <div id=\"title\">커뮤니티</div>\r\n                </div>\r\n\r\n                <div className=\"search-button-group\">\r\n                    <select id=\"community-search-option\">\r\n                        <option>최신순</option>\r\n                    </select>\r\n                    <input id=\"community-search\" value=\"\"></input>\r\n                    <button id=\"community-upload\" className={\"createCommunityButton\"}>UPLOAD</button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            {activityHistoryList}\r\n\r\n            <div id=\"center\">\r\n                <div class=\"pagination\">\r\n                    <a href=\"#\">&laquo;</a>\r\n                    <a href=\"#\" class=\"active\">1</a>\r\n                    <a href=\"#\">2</a>\r\n                    <a href=\"#\">3</a>\r\n                    <a href=\"#\">4</a>\r\n                    <a href=\"#\">5</a>\r\n                    <a href=\"#\">&raquo;</a>\r\n                </div>\r\n            </div>\r\n\r\n            <Modal isOpen={modalCreateCommunity} >\r\n                <ModalHeader toggle={toggleCreateCommunity}>게시글 작성</ModalHeader>\r\n                <CreateCommunity></CreateCommunity>\r\n            </Modal>\r\n\r\n            <Modal isOpen={modalReadCommunity}>\r\n                <ModalHeader toggle={toggleReadCommunity}>게시글 상세조회</ModalHeader>\r\n                <ReadCommunity _id={modalInput}></ReadCommunity>\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default Communities;"]},"metadata":{},"sourceType":"module"}