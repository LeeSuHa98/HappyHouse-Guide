{"ast":null,"code":"import _classCallCheck from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _slicedToArray from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Map,GoogleApiWrapper,Marker}from'google-maps-react';import Moment from'react-moment';import Chatbot from\"react-chatbot-kit\";import numeral from'numeral';import{Bar}from'react-chartjs-2';import'./Sidebar.css';import'./Menubar.css';import image from'../Image/apartment_.png';import cancel from'../Image/cancel.png';import like1 from'../Image/like.png';import like2 from'../Image/like-toggle.png';import star1 from'../Image/star1.PNG';import star2 from'../Image/star2.PNG';import room4 from'../Image/room4.PNG';import chatbot2 from'../Image/help.png';import MessageParser from'../chatbot/MessageParser';import ActionProvider from'../chatbot/ActionProvider';import SearchBar from'./SearchBar';import config from'../chatbot/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MapMarkers=function MapMarkers(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),houseDetail=_useState4[0],setHouseDetail=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),selectedIndex=_useState8[0],setSelectedIndex=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),convenience=_useState10[0],setConvenience=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),medical=_useState12[0],setMedical=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),safety=_useState14[0],setSafety=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isOpen=_useState16[0],setIsOpen=_useState16[1];var toggle=function toggle(){return setIsOpen(!isOpen);};var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),token=_useState18[0],setToken=_useState18[1];// -> testID\nvar typeName=[];var suplyPrivateArea=[];var suplyCommuseArea=[];var bassRentDeposit=[];var bassConversionDeposit=[];var bassMonthlyRentCharge=[];var houseDto=/*#__PURE__*/function(){function houseDto(typeName,suplyCommuseArea,suplyPrivateArea,bassRentDeposit,bassConversionDeposit,bassMonthlyRentCharge,danjiCode){_classCallCheck(this,houseDto);this.typeName=typeName;this.suplyCommuseArea=suplyCommuseArea;this.suplyPrivateArea=suplyPrivateArea;this.bassRentDeposit=bassRentDeposit;this.bassConversionDeposit=bassConversionDeposit;this.bassMonthlyRentCharge=bassMonthlyRentCharge;this.danjiCode=danjiCode;}_createClass(houseDto,[{key:\"toString\",value:function toString(){return\"\".concat(this.typeName);}},{key:\"getTypeName\",value:function getTypeName(){return this.typeName;}},{key:\"getSuplyCommuseArea\",value:function getSuplyCommuseArea(){return this.suplyCommuseArea;}},{key:\"getSuplyPrivateArea\",value:function getSuplyPrivateArea(){return this.suplyPrivateArea;}},{key:\"getBassRentDeposit\",value:function getBassRentDeposit(){return this.bassRentDeposit;}},{key:\"getBassConversionDeposit\",value:function getBassConversionDeposit(){return this.bassConversionDeposit;}},{key:\"getBassMonthlyRentCharge\",value:function getBassMonthlyRentCharge(){return this.bassMonthlyRentCharge;}},{key:\"toDetail\",value:function toDetail(){return\"\\n         \\uACF5\\uACF5 \\uACF5\\uC6A9 \\uBA74\\uC801 : \".concat(this.suplyCommuseArea,\"\\n         \\uAC1C\\uC778 \\uC804\\uC6A9 \\uBA74\\uC801 : \").concat(this.suplyPrivateArea,\"\\n         \\uAE30\\uBCF8 \\uC804\\uD658\\uBCF4\\uC99D\\uAE08 : \").concat(this.bassRentDeposit,\"\\n         \\uAE30\\uBCF8 \\uC784\\uB300\\uBCF4\\uC99D\\uAE08 : \").concat(this.bassMonthlyRentCharge,\"\\n         \\uC6D4 \\uC784\\uB300\\uB8CC : \").concat(this.bassConversionDeposit,\"\\n         \\uB2E8\\uC9C0\\uCF54\\uB4DC : \").concat(this.danjiCode,\"\\n        \");}}]);return houseDto;}();var sidebarHide=function sidebarHide(){var con=document.getElementById(\"sideBar\");if(con.style.display==='block'){con.style.display='none';}};var sidebarShow=function sidebarShow(){var con=document.getElementById(\"sideBar\");if(con.style.display==='none'){con.style.display='block';}else{con.style.display='block';}};var chatbotFAQ=function chatbotFAQ(){var con=document.getElementById(\"chatbot\");if(con.style.display==='none'){con.style.display='block';}else{con.style.display='none';}};useEffect(function(){setCenter({lat:37.5,lng:127});setZoom(15);loadAsyncData();},[]);var loadAsyncData=function loadAsyncData(){var url=\"https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/houseInfos\";axios.get(url).then(function(_ref){var data=_ref.data;data=data.houseInfoList;setItem(data);setType(data.reduce(function(infoData,curHouse){(infoData[curHouse.address]=infoData[curHouse.address]||[]).push(new houseDto(curHouse.typeName,curHouse.suplyCommuseArea,curHouse.suplyPrivateArea,curHouse.bassRentDeposit,curHouse.bassConversionDeposit,curHouse.bassMonthlyRentCharge,curHouse.danjiCode));return infoData;},{}));});};var loadAsyncHouseGradeData=function loadAsyncHouseGradeData(){var url=\"https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/houseGrade/\".concat(houseDetail.danjiCode);axios.get(url).then(function(_ref2){var data=_ref2.data;data=data.grade;setConvenience(data.convenience);setSafety(data.safety);setMedical(data.medical);});};var displayMarkers=function displayMarkers(){return item.map(function(data){return/*#__PURE__*/_jsx(Marker,{className:\"marker-image\",position:{lat:data.lat,lng:data.lng},icon:{url:image,scaledSize:new props.google.maps.Size(40,40)//labelOrigin: new props.google.maps.Size(50, 115),\n},label:{text:\"\".concat(numeral(data.houseHoldNum).format('0,0'),\"\\uC138\\uB300\"),fontSize:\"13px\",fontFamily:\"Do Hyeon\",color:\"white\",className:'label'},onClick:function onClick(){return sidebarShow(setHouseDetail(data));}},data._id);});};var mapStyles={width:'100%',height:'100%'};var countFunction=function countFunction(){if(type[houseDetail.address]&&type[houseDetail.address].length>0){for(var i=0;i<type[houseDetail.address].length;i++){typeName[i]=type[houseDetail.address][i].toString();suplyCommuseArea[i]=type[houseDetail.address][i].getSuplyCommuseArea();suplyPrivateArea[i]=type[houseDetail.address][i].getSuplyPrivateArea();bassRentDeposit[i]=type[houseDetail.address][i].getBassRentDeposit();bassConversionDeposit[i]=type[houseDetail.address][i].getBassConversionDeposit();bassMonthlyRentCharge[i]=type[houseDetail.address][i].getBassMonthlyRentCharge();}}return/*#__PURE__*/_jsx(\"div\",{class:\"typeGroup\",children:typeName.map(function(data,i){return/*#__PURE__*/_jsx(\"button\",{id:\"typeButton\",onClick:function onClick(){return setSelectedIndex(i);},children:data},i);})});};var countFunctionDetail=function countFunctionDetail(){if(selectedIndex===null)return;return console.log(\"check\");};// Chart\nvar data={labels:['Convenience','Safety','Medical'],datasets:[{label:houseDetail.danjiName,backgroundColor:['rgba(255,99,132,0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)'],borderColor:['rgba(255,99,132,1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)'],borderWidth:1,hoverBackgroundColor:['rgba(255,99,132,0.4)','rgba(54, 162, 235, 0.4)','rgba(255, 206, 86, 0.4)'],hoverBorderColor:['rgba(255,99,132,1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)'],data:[convenience,safety,medical]}]};function drawGraph(){return/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(Bar,{data:data,options:{maintainAspectRatio:false}})});}var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),center=_useState20[0],setCenter=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),zoom=_useState22[0],setZoom=_useState22[1];/* Dibs */var cnt=1;function changeImage(){var tmpCheck=document.getElementById(\"tmp\");var form={userId:\"admin123\",danjiCode:houseDetail.danjiCode,danjiName:houseDetail.danjiName};if(cnt%2==1){tmpCheck.src=like2;axios.post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/dibs',form).then(function(res){alert(\"좋아요 등록 완료\");window.location.reload();props.toggle();}).catch(function(error){console.log(error);});}else{tmpCheck.src=like1;}cnt++;}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Map,{google:props.google,zoom:zoom,style:mapStyles,center:center,children:[displayMarkers(),/*#__PURE__*/_jsx(SearchBar,{setCenter:setCenter,setZoom:setZoom})]}),/*#__PURE__*/_jsx(\"div\",{id:\"chatbot\",className:\"chatbot-show\",children:/*#__PURE__*/_jsx(Chatbot,{config:config,actionProvider:ActionProvider,messageParser:MessageParser})}),/*#__PURE__*/_jsx(\"img\",{alt:\"chatbot\",src:chatbot2,className:\"chatbot-button\",onClick:function onClick(){return chatbotFAQ();}}),/*#__PURE__*/_jsx(\"div\",{className:\"side-bar-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"side-bar\",id:\"sideBar\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"sidebar hide\",src:cancel,id:\"sidebarHide\",onClick:function onClick(){return sidebarHide();},className:\"toggle-menu\"}),loadAsyncHouseGradeData(),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imageSection\",children:/*#__PURE__*/_jsx(\"img\",{src:room4,id:\"roomImage\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"houseInfoSection1\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"houseInfoTable1\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{class:\"houseName\",colspan:\"2\",children:houseDetail.danjiName}),/*#__PURE__*/_jsxs(\"td\",{class:\"likeButton\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{id:\"tmp\",alt:\"like\",src:like1,className:\"likeImage\",onClick:function onClick(){return changeImage();}})]})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"houseAddress\",children:houseDetail.address})})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"houseInfoSection2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"test2\",children:\"\\uC8FC\\uD0DD\\uC815\\uBCF4\"}),countFunction(),countFunctionDetail(),/*#__PURE__*/_jsxs(\"table\",{class:\"houseInfoTable2\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uACF5\\uAE09\\uC138\\uB300\"}),/*#__PURE__*/_jsxs(\"td\",{colspan:\"2\",children:[houseDetail.houseHoldNum,\" \\uC138\\uB300\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uC900\\uACF5\\uC77C\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{colspan:\"2\",children:/*#__PURE__*/_jsx(Moment,{format:\"YYYY / MM / DD\",children:houseDetail.competeDate})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uC8FC\\uD0DD\\uD615\"}),/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uACF5\\uACF5 \\uACF5\\uC6A9\\uBA74\\uC801\"}),/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\" \\uAC1C\\uC778 \\uACF5\\uC6A9\\uBA74\\uC801\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:typeName[selectedIndex]}),/*#__PURE__*/_jsxs(\"td\",{children:[suplyCommuseArea[selectedIndex],\"(\\u33A1)\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[suplyPrivateArea[selectedIndex],\"(\\u33A1)\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uC784\\uB300 \\uBCF4\\uC99D\\uAE08\"}),/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uC804\\uD658 \\uBCF4\\uC99D\\uAE08\"}),/*#__PURE__*/_jsx(\"td\",{id:\"td1\",children:\"\\uC6D4 \\uC784\\uB300\\uB8CC\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:numeral(bassRentDeposit[selectedIndex]).format('0,0')}),/*#__PURE__*/_jsx(\"td\",{children:numeral(bassConversionDeposit[selectedIndex]).format('0,0')}),/*#__PURE__*/_jsx(\"td\",{children:numeral(bassMonthlyRentCharge[selectedIndex]).format('0,0')})]})]}),drawGraph()]}),/*#__PURE__*/_jsxs(\"div\",{id:\"houseInfoSection4\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"test2\",children:[\"\\uAC70\\uC8FC\\uD6C4\\uAE30\",/*#__PURE__*/_jsx(\"button\",{id:\"moreReview\",onClick:function onClick(){window.location.href='/reviews';},children:\"\\uB354\\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"reviewGroup\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"review\",children:[/*#__PURE__*/_jsx(\"img\",{src:star1,id:\"starImage\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uAD50\\uD1B5\\uC5EC\\uAC74\\uC774 \\uC6B0\\uC218\\uD558\\uBA70 \\uB300\\uC911\\uAD50\\uD1B5 \\uB178\\uC120\\uB3C4 \\uB2E4\\uC591\\uD558\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB610\\uD55C \\uC6D4\\uC138\\uB3C4 \\uB2E4\\uB978 \\uC784\\uB300\\uC8FC\\uD0DD\\uC5D0 \\uBE44\\uD574 \\uC800\\uB834\\uD574\\uC11C \\uC88B\\uB2E4.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"review\",children:[/*#__PURE__*/_jsx(\"img\",{src:star2,id:\"starImage\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC8FC\\uBCC0\\uC5D0 \\uBC84\\uC2A4\\uB098 \\uC9C0\\uD558\\uCCA0\\uC5ED\\uC774 \\uAC00\\uAE4C\\uC774 \\uC788\\uC5B4\\uC11C \\uD3B8\\uD588\\uACE0\\uC694, \",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC0DD\\uAC01\\uBCF4\\uB2E4\\uB3C4 \\uC9D1\\uC774  \\uB354 \\uAE54\\uB054\\uD558\\uACE0 \\uC88B\\uC2B5\\uB2C8\\uB2E4 !\"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"review\",children:[/*#__PURE__*/_jsx(\"img\",{src:star2,id:\"starImage\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uAC70\\uC8FC\\uD6C4\\uAE303\"})]})]})]})]})]})})]})});};export default GoogleApiWrapper({apiKey:\"AIzaSyCvljxDf0P6qv5kvTo5WIYRlWU3VZn3hks\"})(MapMarkers);","map":{"version":3,"sources":["C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/src/source/MapMarkers.js"],"names":["React","useState","useEffect","axios","Map","GoogleApiWrapper","Marker","Moment","Chatbot","numeral","Bar","image","cancel","like1","like2","star1","star2","room4","chatbot2","MessageParser","ActionProvider","SearchBar","config","MapMarkers","props","item","setItem","houseDetail","setHouseDetail","type","setType","selectedIndex","setSelectedIndex","convenience","setConvenience","medical","setMedical","safety","setSafety","isOpen","setIsOpen","toggle","token","setToken","typeName","suplyPrivateArea","suplyCommuseArea","bassRentDeposit","bassConversionDeposit","bassMonthlyRentCharge","houseDto","danjiCode","sidebarHide","con","document","getElementById","style","display","sidebarShow","chatbotFAQ","setCenter","lat","lng","setZoom","loadAsyncData","url","get","then","data","houseInfoList","reduce","infoData","curHouse","address","push","loadAsyncHouseGradeData","grade","displayMarkers","map","scaledSize","google","maps","Size","text","houseHoldNum","format","fontSize","fontFamily","color","className","_id","mapStyles","width","height","countFunction","length","i","toString","getSuplyCommuseArea","getSuplyPrivateArea","getBassRentDeposit","getBassConversionDeposit","getBassMonthlyRentCharge","countFunctionDetail","console","log","labels","datasets","label","danjiName","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","drawGraph","maintainAspectRatio","center","zoom","cnt","changeImage","tmpCheck","form","userId","src","post","res","alert","window","location","reload","catch","error","competeDate","href","apiKey"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\r\nimport Moment from 'react-moment'\r\nimport Chatbot from \"react-chatbot-kit\"\r\nimport numeral from 'numeral'\r\nimport {Bar} from 'react-chartjs-2';\r\nimport './Sidebar.css'\r\nimport './Menubar.css'\r\n\r\nimport image from '../Image/apartment_.png'\r\nimport cancel from '../Image/cancel.png'\r\nimport like1 from '../Image/like.png'\r\nimport like2 from '../Image/like-toggle.png'\r\nimport star1 from '../Image/star1.PNG'\r\nimport star2 from '../Image/star2.PNG'\r\nimport room4 from '../Image/room4.PNG'\r\nimport chatbot2 from '../Image/help.png'\r\n\r\nimport MessageParser from '../chatbot/MessageParser';\r\nimport ActionProvider from '../chatbot/ActionProvider';\r\nimport SearchBar from './SearchBar'\r\nimport config from '../chatbot/config';\r\n\r\nexport const MapMarkers = (props) => { \r\n    const [item, setItem] = useState([]);\r\n    const [houseDetail, setHouseDetail] = useState([]);\r\n    const [type, setType] = useState([]);\r\n    const [selectedIndex, setSelectedIndex] = useState(null);\r\n\r\n    const [convenience, setConvenience] = useState([]);\r\n    const [medical, setMedical] = useState([]);\r\n    const [safety, setSafety] = useState([]);\r\n\r\n\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const toggle = () => setIsOpen(!isOpen);\r\n    const [token, setToken] = useState(); // -> testID\r\n\r\n\r\n\r\n    let typeName = [];\r\n    let suplyPrivateArea = [];\r\n    let suplyCommuseArea = [];\r\n    let bassRentDeposit = [];\r\n    let bassConversionDeposit = [];\r\n    let bassMonthlyRentCharge = [];\r\n\r\n    let houseDto = class{\r\n      constructor(typeName, suplyCommuseArea, suplyPrivateArea, bassRentDeposit, bassConversionDeposit,bassMonthlyRentCharge, danjiCode){\r\n        this.typeName = typeName;\r\n        this.suplyCommuseArea = suplyCommuseArea;\r\n        this.suplyPrivateArea = suplyPrivateArea;\r\n        this.bassRentDeposit = bassRentDeposit;\r\n        this.bassConversionDeposit = bassConversionDeposit;\r\n        this.bassMonthlyRentCharge = bassMonthlyRentCharge;\r\n        this.danjiCode = danjiCode;\r\n      }\r\n\r\n      toString() {\r\n        return `${this.typeName}`\r\n      }\r\n      \r\n      getTypeName() { return this.typeName; }\r\n      getSuplyCommuseArea() { return this.suplyCommuseArea; }\r\n      getSuplyPrivateArea() { return this.suplyPrivateArea; }\r\n      getBassRentDeposit() { return this.bassRentDeposit; }\r\n      getBassConversionDeposit() {return this.bassConversionDeposit;}\r\n      getBassMonthlyRentCharge() { return this.bassMonthlyRentCharge; }\r\n\r\n      toDetail() {\r\n        return `\r\n         공공 공용 면적 : ${this.suplyCommuseArea}\r\n         개인 전용 면적 : ${this.suplyPrivateArea}\r\n         기본 전환보증금 : ${this.bassRentDeposit}\r\n         기본 임대보증금 : ${this.bassMonthlyRentCharge}\r\n         월 임대료 : ${this.bassConversionDeposit}\r\n         단지코드 : ${this.danjiCode}\r\n        `\r\n      }\r\n    }\r\n    const sidebarHide = () => {\r\n      var con = document.getElementById(\"sideBar\");\r\n      if(con.style.display==='block'){\r\n      con.style.display='none';\r\n      }\r\n    }\r\n\r\n    const sidebarShow = () => {\r\n      var con = document.getElementById(\"sideBar\");\r\n      if(con.style.display==='none'){\r\n        con.style.display='block';\r\n      }else{\r\n        con.style.display='block';\r\n      }\r\n    }\r\n\r\n    const chatbotFAQ = () => {\r\n      var con = document.getElementById(\"chatbot\");\r\n      if(con.style.display==='none'){\r\n        con.style.display='block';\r\n      }else{\r\n        con.style.display='none';\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      setCenter({lat: 37.5, lng: 127})\r\n      setZoom(15)\r\n        loadAsyncData();\r\n    }, [])\r\n\r\n    const loadAsyncData = () => {\r\n        let url = `https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/houseInfos`;\r\n\r\n        axios.get(url).then(({data}) => {\r\n            data = data.houseInfoList\r\n            setItem(data);\r\n            setType(data.reduce((infoData, curHouse) => {\r\n              (infoData[curHouse.address] = infoData[curHouse.address] || [])\r\n              .push(new houseDto(curHouse.typeName, curHouse.suplyCommuseArea, curHouse.suplyPrivateArea, curHouse.bassRentDeposit, curHouse.bassConversionDeposit,curHouse.bassMonthlyRentCharge, curHouse.danjiCode));\r\n              return infoData;\r\n            }, {}));\r\n        })\r\n    }\r\n\r\n    const loadAsyncHouseGradeData = () => {      \r\n      let url = `https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/houseGrade/${houseDetail.danjiCode}`;\r\n\r\n      axios.get(url).then(({data}) => {\r\n        data = data.grade;\r\n        setConvenience(data.convenience);\r\n        setSafety(data.safety);\r\n        setMedical(data.medical);\r\n      })\r\n    }\r\n    const displayMarkers = () => {\r\n      return item.map((data) => (\r\n          <Marker className='marker-image' \r\n          key={data._id} \r\n          position={{lat:data.lat, lng:data.lng}}\r\n          icon={{\r\n            url: image,\r\n            scaledSize: new props.google.maps.Size(40,40),\r\n            //labelOrigin: new props.google.maps.Size(50, 115),\r\n          }}\r\n          label={{\r\n            text: `${numeral(data.houseHoldNum).format('0,0')}세대`,\r\n            fontSize: \"13px\",\r\n            fontFamily: \"Do Hyeon\",\r\n            color: \"white\",\r\n            className: 'label'\r\n          }}\r\n          onClick={() => sidebarShow(\r\n            setHouseDetail(data)\r\n            )}\r\n          />\r\n          ))\r\n  }\r\n\r\n    const mapStyles = {\r\n        width: '100%',\r\n        height: '100%',\r\n    };\r\n\r\n    const countFunction = () => {\r\n           if(type[houseDetail.address] && type[houseDetail.address].length > 0){\r\n        for(let i = 0; i < type[houseDetail.address].length; i++){\r\n          typeName[i] = type[houseDetail.address][i].toString();\r\n          suplyCommuseArea[i] = type[houseDetail.address][i].getSuplyCommuseArea();\r\n          suplyPrivateArea[i] = type[houseDetail.address][i].getSuplyPrivateArea();\r\n          bassRentDeposit[i] = type[houseDetail.address][i].getBassRentDeposit();\r\n          bassConversionDeposit[i] = type[houseDetail.address][i].getBassConversionDeposit();\r\n          bassMonthlyRentCharge[i] = type[houseDetail.address][i].getBassMonthlyRentCharge();\r\n        }\r\n      }\r\n\r\n      return(\r\n        <div class = \"typeGroup\">\r\n          {typeName.map((data, i) => {\r\n            return (\r\n              <button id = \"typeButton\" key={i} onClick={() => setSelectedIndex(i) }>{data}</button>\r\n            )\r\n          })}\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const countFunctionDetail = () => {\r\n        if (selectedIndex === null) return;\r\n\r\n      return(\r\n          console.log(\"check\")\r\n      )\r\n    }\r\n\r\n    // Chart\r\n    const data = {\r\n      labels: ['Convenience', 'Safety', 'Medical'],\r\n      datasets: [\r\n        {\r\n          label: houseDetail.danjiName,\r\n          backgroundColor: ['rgba(255,99,132,0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)'],\r\n          borderColor: ['rgba(255,99,132,1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)'],\r\n          borderWidth: 1,\r\n          hoverBackgroundColor: ['rgba(255,99,132,0.4)','rgba(54, 162, 235, 0.4)','rgba(255, 206, 86, 0.4)'],\r\n          hoverBorderColor: ['rgba(255,99,132,1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)'],\r\n          data: [convenience,safety,medical]\r\n        }\r\n      ]\r\n    };\r\n    function drawGraph() {\r\n      return (\r\n        <div className = \"chart\"> \r\n            <Bar\r\n              data={data}\r\n              options={{\r\n                maintainAspectRatio: false\r\n              }}\r\n            />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const [center, setCenter] = useState()\r\n    const [zoom, setZoom] = useState()\r\n\r\n    /* Dibs */\r\n    var cnt = 1;\r\n\r\n    function changeImage(){\r\n      var tmpCheck = document.getElementById(\"tmp\");\r\n      \r\n      var form={\r\n        userId : \"admin123\",\r\n        danjiCode : houseDetail.danjiCode,\r\n        danjiName : houseDetail.danjiName\r\n        };\r\n     \r\n       if(cnt%2==1){\r\n        tmpCheck.src = like2;   \r\n        axios.post('https://joj5opq81m.execute-api.us-east-2.amazonaws.com/happyhouse/dibs', form).then((res) => {\r\n        alert(\"좋아요 등록 완료\")\r\n        window.location.reload();\r\n        props.toggle()\r\n        }).catch(function (error){\r\n        console.log(error)  \r\n       })\r\n      }\r\n      else{\r\n        tmpCheck.src = like1;\r\n      }\r\n      cnt++;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n    <div>\r\n    <React.Fragment>\r\n        <Map google={props.google} zoom={zoom} style={mapStyles} center={center}>\r\n            {displayMarkers()}\r\n          <SearchBar setCenter={setCenter} setZoom={setZoom} />\r\n        </Map>\r\n\r\n\r\n\r\n        <div id=\"chatbot\" className=\"chatbot-show\">\r\n          <Chatbot \r\n          config={config} \r\n          actionProvider={ActionProvider} \r\n          messageParser={MessageParser}/>\r\n        </div>\r\n        <img alt=\"chatbot\" src={chatbot2} className=\"chatbot-button\" onClick={() => chatbotFAQ()}/>\r\n\r\n\r\n        <div className=\"side-bar-wrap\" >\r\n            <div className=\"side-bar\" id=\"sideBar\">\r\n             \r\n                <img alt=\"sidebar hide\" src={cancel} id=\"sidebarHide\" onClick={()=> sidebarHide()}\r\n                className=\"toggle-menu\"\r\n                />\r\n                 \r\n                {loadAsyncHouseGradeData()}                  \r\n              <div className=\"content\">\r\n               <div className = \"imageSection\">\r\n                 <img src={room4} id=\"roomImage\"></img> \r\n               </div>\r\n               <div id = \"houseInfoSection1\">\r\n              <table className =\"houseInfoTable1\">\r\n                <tr> \r\n                  <td class = \"houseName\" colspan=\"2\">{houseDetail.danjiName}</td>\r\n                  <td class=\"likeButton\"> <img id = \"tmp\"alt='like' src={like1} className=\"likeImage\" onClick={() => changeImage()}/></td>\r\n                </tr>\r\n                <tr>\r\n                <td className =\"houseAddress\">{houseDetail.address}</td>\r\n                </tr>\r\n                </table>\r\n                </div>\r\n\r\n                <div id = \"houseInfoSection2\">\r\n                  <div class = \"test2\">주택정보</div>\r\n                      {countFunction()}\r\n                      {countFunctionDetail()}\r\n\r\n                      <table class=\"houseInfoTable2\">\r\n                      <tr>\r\n                          <td id = \"td1\">공급세대</td>\r\n                          <td colspan=\"2\">{houseDetail.houseHoldNum} 세대</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td id = \"td1\">준공일자</td>\r\n                          <td colspan = \"2\">\r\n                            <Moment format=\"YYYY / MM / DD\">{houseDetail.competeDate}</Moment>\r\n                          </td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                          <td id=\"td1\">주택형</td>\r\n                          <td id=\"td1\">공공 공용면적</td>\r\n                          <td id=\"td1\"> 개인 공용면적</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>{typeName[selectedIndex]}</td>\r\n                          <td>{suplyCommuseArea[selectedIndex]}(㎡)</td>\r\n                          <td>{suplyPrivateArea[selectedIndex]}(㎡)</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td id=\"td1\">임대 보증금</td>\r\n                          <td id=\"td1\">전환 보증금</td>\r\n                          <td id=\"td1\">월 임대료</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>{numeral(bassRentDeposit[selectedIndex]).format('0,0')}</td>\r\n                          <td>{numeral(bassConversionDeposit[selectedIndex]).format('0,0')}</td>\r\n                          <td>{numeral(bassMonthlyRentCharge[selectedIndex]).format('0,0')}</td>\r\n                        </tr>\r\n\r\n                       \r\n                      </table>\r\n\r\n                      {drawGraph()}\r\n                    </div>\r\n                     \r\n                      <div id = \"houseInfoSection4\">\r\n                      <div class = \"test2\">거주후기<button id = \"moreReview\" onClick = {()=>{window.location.href ='/reviews'}}>더보기</button></div>\r\n                      \r\n\r\n                          <div class = \"reviewGroup\">\r\n\r\n                          <div class = \"review\"> \r\n                          <img src={star1} id=\"starImage\" />\r\n                          <p>교통여건이 우수하며 대중교통 노선도 다양하다.<br></br>\r\n                            또한 월세도 다른 임대주택에 비해 저렴해서 좋다.</p>\r\n                          </div>\r\n                          <div class = \"review\"> \r\n                          <img src={star2} id=\"starImage\" />\r\n                          <p>주변에 버스나 지하철역이 가까이 있어서 편했고요, <br></br>\r\n                          생각보다도 집이  더 깔끔하고 좋습니다 !</p>\r\n                          </div>\r\n                          <div class = \"review\"> \r\n                          <img src={star2} id=\"starImage\" />\r\n                          <p>거주후기3</p>\r\n                          </div>\r\n\r\n                      </div>\r\n                      </div>\r\n                </div>\r\n                </div>\r\n\r\n        </div>\r\n\r\n    </React.Fragment></div>\r\n    );\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: \"AIzaSyCvljxDf0P6qv5kvTo5WIYRlWU3VZn3hks\"\r\n})(MapMarkers);"]},"metadata":{},"sourceType":"module"}