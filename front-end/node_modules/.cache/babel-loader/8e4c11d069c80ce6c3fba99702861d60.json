{"ast":null,"code":"import _slicedToArray from\"C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FormGroup,Input,Button,InputGroup,InputGroupAddon,Progress,InputGroupText,CustomInput}from'reactstrap';import axios from'axios';import{Image}from'react-bootstrap';import numeral from'numeral';import room1 from'../Image/room1.PNG';import Moment from'react-moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateReview=function CreateReview(props){var _useState=useState(props._id),_useState2=_slicedToArray(_useState,2),_id=_useState2[0],set_id=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),monthlyRentCharge=_useState8[0],setMonthlyRentCharge=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),adminCharge=_useState10[0],setAdminCharge=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),region=_useState12[0],setRegion=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),typeName=_useState14[0],setTypeName=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),merit=_useState16[0],setMerit=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),demerit=_useState18[0],setDemerit=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),picture=_useState20[0],setPicture=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),imagePreviewUrl=_useState22[0],setImagePreviewUrl=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),star=_useState24[0],setStar=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),writeDate=_useState26[0],setWriteDate=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),isReadOnly=_useState28[0],setIsReadOnly=_useState28[1];// 수정활성화\nvar $imagePreview=null;var handlChangeTitle=function handlChangeTitle(e){e.preventDefault();setTitle(e.target.value);};var handlChangeRegion=function handlChangeRegion(e){e.preventDefault();setRegion(e.target.value);};var handlChangeTypeName=function handlChangeTypeName(e){e.preventDefault();setTypeName(e.target.value);};var handlChangeMonthlyRentCharge=function handlChangeMonthlyRentCharge(e){e.preventDefault();setMonthlyRentCharge(e.target.value);};var handlChangeAdminCharge=function handlChangeAdminCharge(e){e.preventDefault();setAdminCharge(e.target.value);};var handlChangeMerit=function handlChangeMerit(e){e.preventDefault();setMerit(e.target.value);};var handlChangeDemerit=function handlChangeDemerit(e){e.preventDefault();setDemerit(e.target.value);};var handleChangePicture=function handleChangePicture(e){e.preventDefault();var reader=new FileReader();var picture=e.target.files[0];reader.onloadend=function(){setPicture(picture);setImagePreviewUrl(reader.result);};// reader.readAsDataURL(picture);\n};var handlChangeStar=function handlChangeStar(e){e.preventDefault();setStar(e.target.value);};var createReview=function createReview(){var newDate=new Date();var form={houseId:\"6063083edb67cc10cce15fc0\",userId:localStorage.getItem(\"userID\"),title:title,region:region,typeName:typeName,monthlyRentCharge:monthlyRentCharge,adminCharge:adminCharge,merit:merit,demerit:demerit,// picture : picture, \nstar:star,writeDate:newDate};axios.post('/happyhouse/reviews',form).then(function(res){alert(\"거주후기 작성 완료\");window.location.href='/reviews';});};return/*#__PURE__*/_jsx(\"div\",{className:\"dv\",children:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-title\",children:/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:\"\\uAC70\\uC8FC \\uD6C4\\uAE30 \\uC791\\uC131\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"review-block\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"header\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uC81C\\uBAA9\",/*#__PURE__*/_jsx(Input,{name:\"title\",onChange:handlChangeTitle,value:title})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"writer-writeDate-star\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Progress,{value:star,max:\"5\"}),\"\\uD3C9\\uC810(0~5)\"]}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\uD3C9\\uC810(0~5)\",name:\"star\",onChange:handlChangeStar,value:star})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{class:\"houseInfo\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC9C0\\uC5ED\"}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:/*#__PURE__*/_jsx(Input,{name:\"content\",onChange:handlChangeRegion,value:region})}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC791\\uC131\\uC790ID\"}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:/*#__PURE__*/_jsx(Input,{name:\"userId\",value:localStorage.getItem(\"userID\"),readOnly:isReadOnly})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC784\\uB300\\uC885\\uB958\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Input,{value:\"\\uD589\\uBCF5\\uC8FC\\uD0DD\",readOnly:isReadOnly})}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC720\\uD615\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Input,{value:\"\\uC544\\uD30C\\uD2B8\",readOnly:isReadOnly})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC8FC\\uD0DD\\uD615\"}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:/*#__PURE__*/_jsx(Input,{name:\"content\",onChange:handlChangeTypeName,value:typeName})}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uACF5\\uAE09\\uC218\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Input,{value:\"32 \\uC138\\uB300\",readOnly:isReadOnly})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uC6D4\\uC138\"}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:/*#__PURE__*/_jsx(Input,{name:\"monthlyRentCharge\",onChange:handlChangeMonthlyRentCharge,value:numeral(monthlyRentCharge).format('0,0')})}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:\"\\uAD00\\uB9AC\\uBE44\"}),/*#__PURE__*/_jsx(\"td\",{id:\"a\",children:/*#__PURE__*/_jsx(Input,{name:\"adminCharge\",onChange:handlChangeAdminCharge,value:numeral(adminCharge).format('0,0')})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"review-content\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"merit\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"b\",children:\"\\uC7A5\\uC810\"}),/*#__PURE__*/_jsx(Input,{name:\"merit\",cols:\"50\",rows:\"20\",onChange:handlChangeMerit,value:merit})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"demerit\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"b\",children:\"\\uB2E8\\uC810\"}),/*#__PURE__*/_jsx(Input,{className:\"input-style\",name:\"demerit\",cols:\"50\",rows:\"20\",onChange:handlChangeDemerit,value:demerit})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"review-image\",children:[/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"prepend\",children:/*#__PURE__*/_jsx(InputGroupText,{children:\"\\uC0AC\\uC9C4\\uCCA8\\uBD80\"})}),/*#__PURE__*/_jsx(CustomInput,{type:\"file\",accept:\"image/jpg,impge/png,image/jpeg,image/gif\",name:\"file\",label:\"\\uD30C\\uC77C \\uC120\\uD0DD\",onChange:handleChangePicture,children:\"asdf\"})]}),!$imagePreview&&/*#__PURE__*/_jsx(Image,{src:imagePreviewUrl,className:\"mw-100\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"review-upload\",onClick:createReview,children:\"\\uC791\\uC131\"}),/*#__PURE__*/_jsx(\"button\",{id:\"review-upload\",onClick:function onClick(){window.location.href='/reviews';},style:{float:'left'},children:\"\\uCDE8\\uC18C\"})]})]})})]})})});};export default CreateReview;","map":{"version":3,"sources":["C:/Users/kimseonjin/Documents/GitHub/HappyHouse-Guide/front-end/src/source/CreateReview.js"],"names":["React","useState","FormGroup","Input","Button","InputGroup","InputGroupAddon","Progress","InputGroupText","CustomInput","axios","Image","numeral","room1","Moment","CreateReview","props","_id","set_id","userId","setUserId","title","setTitle","monthlyRentCharge","setMonthlyRentCharge","adminCharge","setAdminCharge","region","setRegion","typeName","setTypeName","merit","setMerit","demerit","setDemerit","picture","setPicture","imagePreviewUrl","setImagePreviewUrl","star","setStar","writeDate","setWriteDate","isReadOnly","setIsReadOnly","$imagePreview","handlChangeTitle","e","preventDefault","target","value","handlChangeRegion","handlChangeTypeName","handlChangeMonthlyRentCharge","handlChangeAdminCharge","handlChangeMerit","handlChangeDemerit","handleChangePicture","reader","FileReader","files","onloadend","result","handlChangeStar","createReview","newDate","Date","form","houseId","localStorage","getItem","post","then","res","alert","window","location","href","format","float"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OACIC,SADJ,CAEIC,KAFJ,CAGIC,MAHJ,CAIIC,UAJJ,CAKIC,eALJ,CAMIC,QANJ,CAOIC,cAPJ,CAQIC,WARJ,KASO,YATP,CAUA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,KAAoB,iBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,eACNf,QAAQ,CAACe,KAAK,CAACC,GAAP,CADF,wCACrBA,GADqB,eAChBC,MADgB,8BAEAjB,QAAQ,EAFR,yCAErBkB,MAFqB,eAEbC,SAFa,8BAGFnB,QAAQ,EAHN,yCAGrBoB,KAHqB,eAGdC,QAHc,8BAIsBrB,QAAQ,EAJ9B,yCAIrBsB,iBAJqB,eAIFC,oBAJE,8BAKUvB,QAAQ,EALlB,0CAKrBwB,WALqB,gBAKRC,cALQ,gCAMAzB,QAAQ,EANR,2CAMrB0B,MANqB,gBAMbC,SANa,gCAOI3B,QAAQ,EAPZ,2CAOrB4B,QAPqB,gBAOXC,WAPW,gCAQF7B,QAAQ,EARN,2CAQrB8B,KARqB,gBAQdC,QARc,gCASE/B,QAAQ,EATV,2CASrBgC,OATqB,gBASZC,UATY,gCAUEjC,QAAQ,CAAC,EAAD,CAVV,2CAUrBkC,OAVqB,gBAUZC,UAVY,gCAWkBnC,QAAQ,CAAC,EAAD,CAX1B,2CAWrBoC,eAXqB,gBAWJC,kBAXI,gCAYJrC,QAAQ,EAZJ,2CAYrBsC,IAZqB,gBAYfC,OAZe,gCAaMvC,QAAQ,EAbd,2CAarBwC,SAbqB,gBAaVC,YAbU,gCAcQzC,QAAQ,CAAC,IAAD,CAdhB,2CAcrB0C,UAdqB,gBAcTC,aAdS,gBAcwB;AAEpD,GAAIC,CAAAA,aAAa,CAAG,IAApB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,CAC5BA,CAAC,CAACC,cAAF,GACA1B,QAAQ,CAACyB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,CACH,CAHD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACJ,CAAD,CAAO,CAC7BA,CAAC,CAACC,cAAF,GACApB,SAAS,CAACmB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAT,CACH,CAHD,CAIA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACL,CAAD,CAAO,CAC/BA,CAAC,CAACC,cAAF,GACAlB,WAAW,CAACiB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAX,CACH,CAHD,CAIA,GAAMG,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CAACN,CAAD,CAAO,CACxCA,CAAC,CAACC,cAAF,GACAxB,oBAAoB,CAACuB,CAAC,CAACE,MAAF,CAASC,KAAV,CAApB,CACH,CAHD,CAIA,GAAMI,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACP,CAAD,CAAO,CAClCA,CAAC,CAACC,cAAF,GACAtB,cAAc,CAACqB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAd,CACH,CAHD,CAIA,GAAMK,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACR,CAAD,CAAO,CAC5BA,CAAC,CAACC,cAAF,GACAhB,QAAQ,CAACe,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,CACH,CAHD,CAIA,GAAMM,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACT,CAAD,CAAO,CAC9BA,CAAC,CAACC,cAAF,GACAd,UAAU,CAACa,CAAC,CAACE,MAAF,CAASC,KAAV,CAAV,CACH,CAHD,CAIA,GAAMO,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACV,CAAD,CAAO,CAC/BA,CAAC,CAACC,cAAF,GAEA,GAAIU,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACA,GAAIxB,CAAAA,OAAO,CAAGY,CAAC,CACVE,MADS,CAETW,KAFS,CAEH,CAFG,CAAd,CAGAF,MAAM,CAACG,SAAP,CAAmB,UAAM,CACrBzB,UAAU,CAACD,OAAD,CAAV,CACAG,kBAAkB,CAACoB,MAAM,CAACI,MAAR,CAAlB,CACH,CAHD,CAID;AACF,CAZD,CAaA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAChB,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAR,OAAO,CAACO,CAAC,CAACE,MAAF,CAASC,KAAV,CAAP,CACH,CAHD,CAIA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACtB,GAAIC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CAEA,GAAIC,CAAAA,IAAI,CAAC,CACLC,OAAO,CAAE,0BADJ,CAELjD,MAAM,CAAGkD,YAAY,CAACC,OAAb,CAAqB,QAArB,CAFJ,CAGLjD,KAAK,CAAGA,KAHH,CAILM,MAAM,CAAGA,MAJJ,CAKLE,QAAQ,CAAGA,QALN,CAMLN,iBAAiB,CAAGA,iBANf,CAOLE,WAAW,CAAGA,WAPT,CAQLM,KAAK,CAAGA,KARH,CASLE,OAAO,CAAGA,OATL,CAUN;AACCM,IAAI,CAAGA,IAXF,CAYLE,SAAS,CAAEwB,OAZN,CAAT,CAeAvD,KAAK,CAAC6D,IAAN,CAAW,qBAAX,CAAkCJ,IAAlC,EAAwCK,IAAxC,CAA6C,SAACC,GAAD,CAAS,CAClDC,KAAK,CAAC,YAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,UAAtB,CACH,CAHD,EAIH,CAtBF,CA0BA,mBAAQ,YAAK,SAAS,CAAC,IAAf,uBAEJ,KAAC,KAAD,CAAO,QAAP,wBAEI,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,YAAK,EAAE,CAAC,OAAR,oDADJ,EADJ,cAKI,aALJ,cAMI,kCACI,aAAK,KAAK,CAAC,cAAX,wBACI,YAAK,EAAE,CAAC,QAAR,uBACI,kDACI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,CAAE/B,gBAA9B,CAAgD,KAAK,CAAEzB,KAAvD,EADJ,GADJ,EADJ,cAOI,aAAK,EAAE,CAAC,uBAAR,wBACI,oCAEI,KAAC,QAAD,EAAU,KAAK,CAAEkB,IAAjB,CAAuB,GAAG,CAAC,GAA3B,EAFJ,uBADJ,cAII,KAAC,KAAD,EACI,WAAW,CAAC,mBADhB,CAEI,IAAI,CAAC,MAFT,CAGI,QAAQ,CAAEwB,eAHd,CAII,KAAK,CAAExB,IAJX,EAJJ,GAPJ,cAmBI,kCACI,eAAO,KAAK,CAAC,WAAb,wBACI,mCACI,WAAI,EAAE,CAAC,GAAP,0BADJ,cAEI,WAAI,EAAE,CAAC,GAAP,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,QAAQ,CAAEY,iBAAhC,CAAmD,KAAK,CAAExB,MAA1D,EADJ,EAFJ,cAKI,WAAI,EAAE,CAAC,GAAP,kCALJ,cAMI,WAAI,EAAE,CAAC,GAAP,uBACI,KAAC,KAAD,EACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAE0C,YAAY,CAACC,OAAb,CAAqB,QAArB,CAFX,CAGI,QAAQ,CAAE3B,UAHd,EADJ,EANJ,GADJ,cAcI,mCACI,WAAI,EAAE,CAAC,GAAP,sCADJ,cAEI,iCACI,KAAC,KAAD,EAAO,KAAK,CAAC,0BAAb,CAAoB,QAAQ,CAAEA,UAA9B,EADJ,EAFJ,cAKI,WAAI,EAAE,CAAC,GAAP,0BALJ,cAMI,iCACI,KAAC,KAAD,EAAO,KAAK,CAAC,oBAAb,CAAmB,QAAQ,CAAEA,UAA7B,EADJ,EANJ,GAdJ,cAwBI,mCACI,WAAI,EAAE,CAAC,GAAP,gCADJ,cAEI,WAAI,EAAE,CAAC,GAAP,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,QAAQ,CAAES,mBAAhC,CAAqD,KAAK,CAAEvB,QAA5D,EADJ,EAFJ,cAMI,WAAI,EAAE,CAAC,GAAP,gCANJ,cAOI,iCACI,KAAC,KAAD,EAAO,KAAK,CAAC,iBAAb,CAAqB,QAAQ,CAAEc,UAA/B,EADJ,EAPJ,GAxBJ,cAmCI,mCACI,WAAI,EAAE,CAAC,GAAP,0BADJ,cAEI,WAAI,EAAE,CAAC,GAAP,uBACI,KAAC,KAAD,EACI,IAAI,CAAC,mBADT,CAEI,QAAQ,CAAEU,4BAFd,CAGI,KAAK,CAAEzC,OAAO,CAACW,iBAAD,CAAP,CAA2BuD,MAA3B,CAAkC,KAAlC,CAHX,EADJ,EAFJ,cASI,WAAI,EAAE,CAAC,GAAP,gCATJ,cAUI,WAAI,EAAE,CAAC,GAAP,uBACI,KAAC,KAAD,EACI,IAAI,CAAC,aADT,CAEI,QAAQ,CAAExB,sBAFd,CAGI,KAAK,CAAE1C,OAAO,CAACa,WAAD,CAAP,CAAqBqD,MAArB,CAA4B,KAA5B,CAHX,EADJ,EAVJ,GAnCJ,GADJ,EAnBJ,cAmFQ,aAAK,KAAK,CAAC,gBAAX,wBACI,aAAK,EAAE,CAAC,OAAR,wBACI,YAAK,EAAE,CAAC,GAAR,0BADJ,cAEI,KAAC,KAAD,EACI,IAAI,CAAC,OADT,CAEI,IAAI,CAAC,IAFT,CAGI,IAAI,CAAC,IAHT,CAII,QAAQ,CAAEvB,gBAJd,CAKI,KAAK,CAAExB,KALX,EAFJ,GADJ,cAWI,aAAK,EAAE,CAAC,SAAR,wBACI,YAAK,EAAE,CAAC,GAAR,0BADJ,cAEI,KAAC,KAAD,EACI,SAAS,CAAC,aADd,CAEI,IAAI,CAAC,SAFT,CAGI,IAAI,CAAC,IAHT,CAII,IAAI,CAAC,IAJT,CAKI,QAAQ,CAAEyB,kBALd,CAMI,KAAK,CAAEvB,OANX,EAFJ,GAXJ,cAqBI,aArBJ,cAsBI,aAAK,KAAK,CAAC,cAAX,wBACI,MAAC,UAAD,yBACI,KAAC,eAAD,EAAiB,SAAS,CAAC,SAA3B,uBACI,KAAC,cAAD,uCADJ,EADJ,cAII,KAAC,WAAD,EACI,IAAI,CAAC,MADT,CAEI,MAAM,CAAC,0CAFX,CAGI,IAAI,CAAC,MAHT,CAII,KAAK,CAAC,2BAJV,CAKI,QAAQ,CAAEwB,mBALd,kBAJJ,GADJ,CAYK,CAACZ,aAAD,eAAkB,KAAC,KAAD,EAAO,GAAG,CAAER,eAAZ,CAA6B,SAAS,CAAC,QAAvC,EAZvB,GAtBJ,GAnFR,cAwHQ,aAxHR,cAyHQ,aAAK,SAAS,CAAC,kBAAf,wBACI,eAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAAE2B,YAApC,0BADJ,cAEI,eACI,EAAE,CAAC,eADP,CAEI,OAAO,CAAG,kBAAI,CAACW,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,UAAtB,CAAiC,CAFpD,CAGI,KAAK,CAAE,CACHE,KAAK,CAAE,MADJ,CAHX,0BAFJ,GAzHR,GADJ,EANJ,GAFJ,EAFI,EAAR,CAoJH,CA7OD,CA+OA,cAAehE,CAAAA,YAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport {\r\n    FormGroup,\r\n    Input,\r\n    Button,\r\n    InputGroup,\r\n    InputGroupAddon,\r\n    Progress,\r\n    InputGroupText,\r\n    CustomInput\r\n} from 'reactstrap';\r\nimport axios from 'axios'\r\nimport {Image} from 'react-bootstrap';\r\nimport numeral from 'numeral'\r\nimport room1 from '../Image/room1.PNG'\r\nimport Moment from 'react-moment'\r\n\r\nconst CreateReview = (props) => {\r\n    const [_id, set_id] = useState(props._id);\r\n    const [userId, setUserId] = useState();\r\n    const [title, setTitle] = useState()\r\n    const [monthlyRentCharge, setMonthlyRentCharge] = useState()\r\n    const [adminCharge, setAdminCharge] = useState()\r\n    const [region, setRegion] = useState()\r\n    const [typeName, setTypeName] = useState()\r\n    const [merit, setMerit] = useState()\r\n    const [demerit, setDemerit] = useState()\r\n    const [picture, setPicture] = useState('')\r\n    const [imagePreviewUrl, setImagePreviewUrl] = useState('');\r\n    const [star, setStar] = useState()\r\n    const [writeDate, setWriteDate] = useState()\r\n    const [isReadOnly, setIsReadOnly] = useState(true); // 수정활성화\r\n\r\n    let $imagePreview = null;\r\n\r\n    const handlChangeTitle = (e) => {\r\n        e.preventDefault();\r\n        setTitle(e.target.value);\r\n    };\r\n    const handlChangeRegion = (e) => {\r\n        e.preventDefault();\r\n        setRegion(e.target.value);\r\n    };\r\n    const handlChangeTypeName = (e) => {\r\n        e.preventDefault();\r\n        setTypeName(e.target.value);\r\n    };\r\n    const handlChangeMonthlyRentCharge = (e) => {\r\n        e.preventDefault();\r\n        setMonthlyRentCharge(e.target.value);\r\n    };\r\n    const handlChangeAdminCharge = (e) => {\r\n        e.preventDefault();\r\n        setAdminCharge(e.target.value);\r\n    };\r\n    const handlChangeMerit = (e) => {\r\n        e.preventDefault();\r\n        setMerit(e.target.value);\r\n    };\r\n    const handlChangeDemerit = (e) => {\r\n        e.preventDefault();\r\n        setDemerit(e.target.value);\r\n    };\r\n    const handleChangePicture = (e) => {\r\n        e.preventDefault();\r\n\r\n        let reader = new FileReader();\r\n        let picture = e\r\n            .target\r\n            .files[0];\r\n        reader.onloadend = () => {\r\n            setPicture(picture);\r\n            setImagePreviewUrl(reader.result);\r\n        }\r\n       // reader.readAsDataURL(picture);\r\n    }\r\n    const handlChangeStar = (e) => {\r\n        e.preventDefault();\r\n        setStar(e.target.value);\r\n    };\r\n    const createReview = () => {\r\n         let newDate = new Date();\r\n        \r\n         var form={\r\n             houseId: \"6063083edb67cc10cce15fc0\",\r\n             userId : localStorage.getItem(\"userID\"),\r\n             title : title, \r\n             region : region,\r\n             typeName : typeName,\r\n             monthlyRentCharge : monthlyRentCharge,\r\n             adminCharge : adminCharge,           \r\n             merit : merit,\r\n             demerit : demerit,\r\n            // picture : picture, \r\n             star : star,  \r\n             writeDate: newDate     \r\n         };\r\n \r\n         axios.post('/happyhouse/reviews', form).then((res) => {\r\n             alert(\"거주후기 작성 완료\")\r\n             window.location.href ='/reviews'\r\n         })\r\n     }\r\n    \r\n\r\n\r\n    return (<div className=\"dv\">\r\n\r\n        <React.Fragment>\r\n\r\n            <div className=\"review-wrap\">\r\n                <div className=\"review-title\">\r\n                    <div id=\"title\">거주 후기 작성</div>\r\n                </div>\r\n\r\n                <br></br>\r\n                <div>\r\n                    <div class=\"review-block\">\r\n                        <div id=\"header\">\r\n                            <h4>제목\r\n                                <Input name=\"title\" onChange={handlChangeTitle} value={title}></Input>\r\n                            </h4>\r\n                        </div>\r\n\r\n                        <div id=\"writer-writeDate-star\">\r\n                            <div>\r\n\r\n                                <Progress value={star} max=\"5\"/>평점(0~5)</div>\r\n                            <Input\r\n                                placeholder=\"평점(0~5)\"\r\n                                name=\"star\"\r\n                                onChange={handlChangeStar}\r\n                                value={star}></Input>\r\n\r\n                        </div>\r\n\r\n                        <div>\r\n                            <table class=\"houseInfo\">\r\n                                <tr>\r\n                                    <td id=\"a\">지역</td>\r\n                                    <td id=\"a\">\r\n                                        <Input name=\"content\" onChange={handlChangeRegion} value={region}></Input>\r\n                                    </td>\r\n                                    <td id=\"a\">작성자ID</td>\r\n                                    <td id=\"a\">\r\n                                        <Input\r\n                                            name=\"userId\"\r\n                                            value={localStorage.getItem(\"userID\")}\r\n                                            readOnly={isReadOnly}></Input>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td id=\"a\">임대종류</td>\r\n                                    <td>\r\n                                        <Input value=\"행복주택\" readOnly={isReadOnly}></Input>\r\n                                    </td>\r\n                                    <td id=\"a\">유형</td>\r\n                                    <td>\r\n                                        <Input value=\"아파트\" readOnly={isReadOnly}></Input>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td id=\"a\">주택형</td>\r\n                                    <td id=\"a\">\r\n                                        <Input name=\"content\" onChange={handlChangeTypeName} value={typeName}></Input>\r\n                                    </td>\r\n\r\n                                    <td id=\"a\">공급수</td>\r\n                                    <td>\r\n                                        <Input value=\"32 세대\" readOnly={isReadOnly}></Input>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td id=\"a\">월세</td>\r\n                                    <td id=\"a\">\r\n                                        <Input\r\n                                            name=\"monthlyRentCharge\"\r\n                                            onChange={handlChangeMonthlyRentCharge}\r\n                                            value={numeral(monthlyRentCharge).format('0,0')}></Input>\r\n                                    </td>\r\n\r\n                                    <td id=\"a\">관리비</td>\r\n                                    <td id=\"a\">\r\n                                        <Input\r\n                                            name=\"adminCharge\"\r\n                                            onChange={handlChangeAdminCharge}\r\n                                            value={numeral(adminCharge).format('0,0')}></Input>\r\n                                    </td>\r\n\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n\r\n                        {/*}\r\n                        <div class=\"review-image\">\r\n                            <img src={room1} id=\"reviewImage\"></img>\r\n                            {/* <div>{reviews.picture}</div>\r\n                            </div>*/\r\n                            }\r\n\r\n                            <div class=\"review-content\">\r\n                                <div id=\"merit\">\r\n                                    <div id=\"b\">장점</div>\r\n                                    <Input\r\n                                        name=\"merit\"\r\n                                        cols=\"50\"\r\n                                        rows=\"20\"\r\n                                        onChange={handlChangeMerit}\r\n                                        value={merit}></Input>\r\n\r\n                                </div>\r\n                                <div id=\"demerit\">\r\n                                    <div id=\"b\">단점</div>\r\n                                    <Input\r\n                                        className=\"input-style\"\r\n                                        name=\"demerit\"\r\n                                        cols=\"50\"\r\n                                        rows=\"20\"\r\n                                        onChange={handlChangeDemerit}\r\n                                        value={demerit}></Input>\r\n                                </div>\r\n                                <br></br>\r\n                                <div class=\"review-image\">\r\n                                    <InputGroup>\r\n                                        <InputGroupAddon addonType=\"prepend\">\r\n                                            <InputGroupText>사진첨부</InputGroupText>\r\n                                        </InputGroupAddon>\r\n                                        <CustomInput\r\n                                            type=\"file\"\r\n                                            accept='image/jpg,impge/png,image/jpeg,image/gif'\r\n                                            name=\"file\"\r\n                                            label=\"파일 선택\"\r\n                                            onChange={handleChangePicture}>asdf</CustomInput>\r\n                                    </InputGroup>\r\n                                    {!$imagePreview && <Image src={imagePreviewUrl} className=\"mw-100\"></Image>}\r\n                                </div>\r\n                            </div>\r\n                            <br></br>\r\n                            <div className=\"button-container\">\r\n                                <button id=\"review-upload\" onClick={createReview}>작성</button>\r\n                                <button\r\n                                    id=\"review-upload\"\r\n                                    onClick ={()=>{window.location.href ='/reviews'}}\r\n                                    style={{\r\n                                        float: 'left'\r\n                                    }}>취소</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        </div>\r\n\r\n        );\r\n}\r\n\r\nexport default CreateReview;"]},"metadata":{},"sourceType":"module"}